<div id="ngx-datatable" class="page-layout simple fullwidth" fusePerfectScrollbar>

  <!-- HEADER -->
  <div class="header mat-accent-bg p-24 h-160" fxLayout="column" fxLayoutAlign="center center" fxLayout.gt-xs="row"
    fxLayoutAlign.gt-xs="space-between center">
    <div fxLayout="column" fxLayoutAlign="center center" fxLayout.gt-xs="column" fxLayoutAlign.gt-xs="center start">
      <div class="black-fg" fxLayout="row" fxLayoutAlign="start center">
        <mat-icon class="secondary-text s-16">home</mat-icon>
        <mat-icon class="secondary-text s-16">chevron_right</mat-icon>
        <span class="secondary-text">Create AWB</span>
      </div>
      <div class="h2 mt-16">Create AWB</div>
    </div>
  </div>
  <!-- / HEADER -->

  <!-- CONTENT -->
  <div class="p-24">

    <form [formGroup]="AWBForm" autocomplete="off" class="form" (submit)="onSubmit()">
      <div class="background-title mat-cyan-200-bg">
        <h2 class="title">Information</h2>
      </div>
      <div class="box-shadow-form mt-5">
        <div fxLayout="row">
          <mat-form-field fxFlex="25" class="mr-3">
            <input formControlName="awb_code" matInput placeholder="AWB Code">
            <mat-error *ngIf="AWBForm.controls.awb_code.hasError('required')">
              AWB Code is required
            </mat-error>
          </mat-form-field>
          <mat-form-field fxFlex="25" class="mr-3">
            <input formControlName="out_awb_num" matInput placeholder="Out AWB Num">
            <mat-error *ngIf="AWBForm.controls.out_awb_num.hasError('required')">
              Out AWB Num is required
            </mat-error>
          </mat-form-field>
          <mat-form-field fxFlex="25" class="mr-3">
            <mat-select formControlName="status" placeholder="Status">
              <mat-option *ngFor="let item of status" [value]="item.key">
                {{ item.key }}
              </mat-option>
            </mat-select>
          </mat-form-field>
          <mat-form-field fxFlex="25">
            <input formControlName="account_number" matInput placeholder="Account #">
            <mat-error *ngIf="AWBForm.controls.account_number.hasError('required')">
              Account # is required
            </mat-error>
          </mat-form-field>
        </div>
        <div fxLayout="row">
          <mat-form-field fxFlex="25" class="mr-3">
            <input formControlName="from_contact_name" matInput placeholder="From Contact Name">
            <mat-error *ngIf="AWBForm.controls.from_contact_name.hasError('required')">
              From Contact Name is required
            </mat-error>
          </mat-form-field>
          <mat-form-field fxFlex="25" class="mr-3">
            <input formControlName="to_company_name" matInput placeholder="To Company Name">
            <mat-error *ngIf="AWBForm.controls.to_company_name.hasError('required')">
              To Company Name is required
            </mat-error>
          </mat-form-field>
          <mat-form-field fxFlex="25" class="mr-3">
            <input formControlName="to_address" matInput placeholder="To Address">
            <mat-error *ngIf="AWBForm.controls.to_address.hasError('required')">
              To Address is required
            </mat-error>
          </mat-form-field>
          <mat-form-field fxFlex="25">
            <input placeholder="To Country" formControlName="to_country_name"
              (keyup)="getCountry($event,'to_country_id','to_country_name')" type="text" aria-label="Number" matInput
              [matAutocomplete]="auto">
            <mat-autocomplete autoActiveFirstOption #auto="matAutocomplete">
              <mat-option (click)="selectedOption('to_country_id','to_country_name',option.country_id)"
                style="top:0 !important" *ngFor="let option of country" [value]="option.country_name">
                {{ option.country_name }}
              </mat-option>
            </mat-autocomplete>
            <mat-error *ngIf="AWBForm.controls.to_country_name.hasError('invalid_Country')">
              Please choose one option.
            </mat-error>
            <mat-error *ngIf="AWBForm.controls.to_country_name.hasError('required')">
              To Country is required
            </mat-error>
          </mat-form-field>
        </div>
        <div fxLayout="row">
          <mat-form-field fxFlex="25" class="mr-3">
            <input formControlName="to_contact_name" matInput placeholder="To Contact Name">
            <mat-error *ngIf="AWBForm.controls.to_contact_name.hasError('required')">
              To Contact Name is required
            </mat-error>
          </mat-form-field>
          <mat-form-field fxFlex="25" class="mr-3">
            <input formControlName="to_email" matInput placeholder="To Email">
            <mat-error *ngIf="AWBForm.controls.to_email.hasError('required')">
              To Email is required
            </mat-error>
          </mat-form-field>
          <mat-form-field fxFlex="25" class="mr-3">
            <input formControlName="to_phone" matInput placeholder="To Phone">
            <mat-error *ngIf="AWBForm.controls.to_phone.hasError('required')">
              To Phone is required
            </mat-error>
          </mat-form-field>
          <mat-form-field fxFlex="25">
            <input formControlName="to_postcode" matInput placeholder="To PostCode">
            <mat-error *ngIf="AWBForm.controls.to_postcode.hasError('required')">
              To PostCode is required
            </mat-error>
          </mat-form-field>
      </div>
      <div fxLayout="row">
          <mat-form-field fxFlex="50" class="mr-3">
              <input formControlName="pick_up_address" matInput placeholder="Pick Up Address">
              <mat-error *ngIf="AWBForm.controls.pick_up_address.hasError('required')">
                Pick Up Address is required
              </mat-error>
            </mat-form-field>
            <mat-form-field fxFlex="50">
                <input formControlName="pick_up_address_unsigned_word" matInput placeholder="Pick Up Address Unsigned Word">
                <mat-error *ngIf="AWBForm.controls.pick_up_address_unsigned_word.hasError('required')">
                  Pick Up Address is required
                </mat-error>
              </mat-form-field>
        </div>
  </div>
  <div class="box-shadow-form margin-top-10">
    <mat-tab-group class="demo-tab-group">
      <mat-tab label="Package Details">
        <div class="demo-tab-content" formArrayName="details">
            <div class="background-title mat-cyan-200-bg mt-5">
                <h2 class="title">Package</h2>
              </div>
              <div class="box-shadow-form mt-5" *ngFor="let item of AWBForm.get('details')['controls']; let i = index" [formGroupName]="i">
                  <div fxLayout="row">
                      <mat-form-field fxFlex="20">
                          <input formControlName="type" matInput placeholder="Type">
                        <mat-error
                          *ngIf="AWBForm.controls.details['controls'][i].controls.type.hasError('required') && AWBForm.controls.details['controls'][i].controls.length.touched">
                          Length is required
                        </mat-error>
                        </mat-form-field>
                      <mat-form-field fxFlex="20">
                      <input formControlName="length" matInput placeholder="Length">
                    <mat-error
                      *ngIf="AWBForm.controls.details['controls'][i].controls.length.hasError('required') && AWBForm.controls.details['controls'][i].controls.length.touched">
                      Length is required
                    </mat-error>
                    </mat-form-field>
                    </div>
                </div>
        </div>
      </mat-tab>
      <mat-tab label="Event Tracking">
        <div class="demo-tab-content">
          Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nulla venenatis ante augue.
          Phasellus volutpat neque ac dui mattis vulputate. Etiam consequat aliquam cursus.
          In sodales pretium ultrices. Maecenas lectus est, sollicitudin consectetur felis nec,
          feugiat ultricies mi. Aliquam erat volutpat. Nam placerat, tortor in ultrices porttitor,
          orci enim rutrum enim, vel tempor sapien arcu a tellus.
        </div>
      </mat-tab>
    </mat-tab-group>
  </div>
  <button class="button-cancel" mat-raised-button (click)="cancel()">Cancel</button>
  <button class="button-submit" mat-raised-button color="accent" type="submit">Create</button>
  </form>
</div>

</div>
