<div class="title">Update Pick Up</div>

<div class="page-layout simple fullwidth custom-dialog">
  <form *ngIf="formUpdate" name="formUpdate" [formGroup]="formUpdate" novalidate>

    <mat-form-field class="w-100">
      <input matInput placeholder="Picker" formControlName="picker" autocomplete="off">
      <mat-error class="text-error" *ngIf="formUpdate.controls.picker.hasError('required')">
        Picker is required
      </mat-error>
    </mat-form-field>

    <mat-form-field class="mt-3" class="w-100">
      <input matInput placeholder="Pre Alert Note" formControlName="pre_alert_note" autocomplete="off">
      <mat-error class="text-error" *ngIf="formUpdate.controls.pre_alert_note.hasError('required')">
        Pre Alert Note is required
      </mat-error>
    </mat-form-field>

    <mat-form-field class="mt-3" class="w-100">
      <input matInput placeholder="Pre Alert Note For Sales" formControlName="pre_alert_note_for_sales" autocomplete="off">
      <mat-error class="text-error" *ngIf="formUpdate.controls.pre_alert_note_for_sales.hasError('required')">
        Pre Alert Note For Sales is required
      </mat-error>
    </mat-form-field>
    <mat-error class="text-error text-center" *ngIf="validateID">
      Please select one item
    </mat-error>
  </form>
  <div class="custom-search">
  <form *ngIf="formSearch" [formGroup]="formSearch" novalidate>
    <div fxLayout="row" class="mt-3">
      <mat-form-field fxFlex="25" class="mr-3">
        <input (keyup)="onSuggest()" formControlName="first_name" matInput placeholder="First Name" autocomplete="off">
      </mat-form-field>
      <mat-form-field fxFlex="25" class="mr-3">
        <input (keyup)="onSuggest()" formControlName="last_name" matInput placeholder="Last Name" autocomplete="off">
      </mat-form-field>
      <mat-form-field fxFlex="25" class="mr-3">
        <input (keyup)="onSuggest()" formControlName="email" matInput placeholder="Email" autocomplete="off">
      </mat-form-field>
      <button (click)="reset()" fxFlex="25" class="mt-3 mr-1 custom-button" mat-raised-button>
        Reset
      </button>
    </div>
    <!-- <table class="table table-striped table-bordered mat-cyan-50-bg">
      <thead>
        <tr>
          <th>User ID</th>
          <th>First Name</th>
          <th>Last Name</th>
          <th>Email</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let item of listSuggest">
          <td class="border-table">
            {{ item.user_id }}
          </td>
          <td class="border-table">
            {{ item.first_name }}
          </td>
          <td class="border-table">
            {{ item.last_name }}
          </td>
          <td class="border-table">
            {{ item.email }}
          </td>
        </tr>
      </tbody>
    </table> -->

      <ngx-datatable
        class="material" [rows]="listSuggest"
        [loadingIndicator]="loadingIndicator" [columnMode]="'force'"
        [headerHeight]="48" [footerHeight]="56" [rowHeight]="'auto'"
        [scrollbarH]="true" [reorderable]="reorderable"
        [selectionType]="'checkbox'"
        [selected]="selected">

        <ngx-datatable-column [width]="48" [canAutoResize]="false" [sortable]="false">
            <!-- <ng-template ngx-datatable-header-template let-value="value" let-allRowsSelected="allRowsSelected" let-selectFn="selectFn">
                <mat-checkbox [checked]="allRowsSelected" (change)="selectFn(!allRowsSelected)"></mat-checkbox>
            </ng-template> -->

            <ng-template ngx-datatable-cell-template let-value="value" let-isSelected="isSelected" let-onCheckboxChangeFn="onCheckboxChangeFn">
                <mat-checkbox [checked]="isSelected" (change)="onCheckboxChangeFn($event)"></mat-checkbox>
            </ng-template>
        </ngx-datatable-column>

        <ngx-datatable-column [width]="150" name="User ID" prop="user_id"></ngx-datatable-column>

        <ngx-datatable-column [width]="150" name="First Name" prop="first_name"></ngx-datatable-column>

        <ngx-datatable-column [width]="200" name="Last Name" prop="last_name"></ngx-datatable-column>

        <ngx-datatable-column [width]="200" name="Email" prop="email"></ngx-datatable-column>
      </ngx-datatable>
  </form>
  </div>
  <div>
    <button mat-raised-button color="accent" class="submit-button" (click)="onSubmit()"
      [disabled]="formUpdate.invalid">
      Update
    </button>
  </div>
</div>
